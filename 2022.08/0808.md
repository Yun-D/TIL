## 220808 TIL💭

---

### [✨글쓰기 페이지에서 주제 검색하기] 기능을 위한 삽질 기록

#### 8/8 문제 + 해결 기록

- [ ] 기존엔 페이지->페이지 이동하며 location으로 BookInfo에서 history를 넘겨받아 사용했으나, 바꾸게 될 WritePost에서는 검색 후 책 선택 시 바로 화면으로 뿌려주면 됨.
  - 기존 코드 변경 또는 분리가 필요함
- [x] WritePost에 처음 진입했을 때 state 초기화 필요함
- [x] useEffect에서 초기화 시 책 검색 api 쿼리 부분이 사라져버림
  - 모달 닫기와 동시에 쿼리를 초기화했기에 발생, if 처리하여 해결

#### 삽질

- BookInfo 컴포넌트에서 location을 로그 찍어보면 선택한 도서 데이터가 잘 찍힘. 이 데이터를 그대로 WritePost로 옮겨오면 되는데, 어떻게?!
  - 리덕스 state로 처리하기?
    - 이 state는 이 페이지에서만 필요할텐데 굳이..? 아닌가..
  - props로 보내기?
    - WritePost에서 요청하는 것만 조건을 걸어야하는데.. 이게 더 머리아프지 않을까
